
Задание 3. РЕПЛИКАЦИЯ

Создаются два шарда, каждый в кластере из трех хостов.

1. Создание контейнеров

docker compose -f compose.yaml up

2. Настройка

Запустить скрипт ./config-check.sh
Скрипт:
- инициализируется шардирование
- инициализируется репликация
- создаются тестовые данные
- запрос подсчета записей в шардах

3. Замечено

Если повторно создавать контейнеры, может возникнуть ошибка вида:
MongoServerError[AlreadyInitialized]: already initialized

Перед повтором п. 1 удалить вольюмы:
docker volume rm $(docker volume ls -q)
